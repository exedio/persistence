<?xml version="1.0"?>

<project name="cope getlib" default="getlib" basedir=".">

	<target name="properties">
		<property file="getlib.properties" />
		
		<property name="jspm.version"    value="${exedio-jspm}" />
		<property name="cops.version"    value="${exedio-cops}" />
		
		<property name="host" value="cruise1.exedio.com" />
		<property name="url" value="http://${host}/artifacts/" />
		<property name="jspm"    value="${url}jspm/${jspm.version}" />
		<property name="cops"    value="${url}cope/${cops.version}" />
	</target>
	
	<target name="getlib" depends="properties">
		<cget url="${jspm}"    file="exedio-jspm.jar"      dest="lib" />
		<sget url="${cops}"    file="exedio-cops.jar"      dest="lib" />
	</target>

	<macrodef name="cget">
		<attribute name="url"  />
		<attribute name="file" />
		<attribute name="dest" />
		<sequential>
			<get src="@{url}/@{file}" dest="@{dest}/@{file}" />
		</sequential>
	</macrodef>

	<macrodef name="sget">
		<attribute name="url"  />
		<attribute name="file" />
		<attribute name="dest" />
		<sequential>
			<cget url="@{url}" file="@{file}" dest="@{dest}" />
			<cget url="@{url}" file="@{file}-src.zip" dest="@{dest}" />
		</sequential>
	</macrodef>

</project>
